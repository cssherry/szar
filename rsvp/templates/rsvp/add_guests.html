{% extends 'base.html' %}
{% load staticfiles %}

{% block style %}
<link rel="stylesheet" href="{% static 'css/ext/dropzone.min.css' %}">
<link rel="stylesheet" href="{% static 'css/admin.css' %}">
{% endblock %}

{% block content %}
<h1>Guest Information</h1>
<button type="button" name="send-invitation" id="send-invitation-button" disabled>Send Invitations</button>
    <table id="guest-list-table">
      <thead>
        <th>
          <input type="checkbox" id="all-guests-checkbox">
        </th>
        <th>
          Name
        </th>
        <th>
          Number Expected
        </th>
        <th>
          RSVP?
        </th>
      </th>
      {% for rsvp in current_guests %}
          {% with status=rsvp.fields.attending %}
          <tr class="rsvp-{{ status }}">
            <td>
              <input type="checkbox" name="name" value="{{ rsvp.fields.guest.id }}">
            </td>
            <td class="guest-name">
              {{ rsvp.fields.guest.name }}
            </td>
            <td class="guest-number">
              {{ rsvp.fields.expected_attendees }}
            </td>
            <td class="guest-status">
              {{ status }}
            </td>
          </tr>
          {% endwith %}
      {% endfor %}
    </table>

    <form action="{% url 'add_guests' %}" method="POST" enctype="multipart/form-data" class="dropzone dz-clickable">
        {% csrf_token %}
        <div class="dz-default dz-message">
            <span>Drop files here to upload</span>
        </div>
    </form>
{% endblock %}

{% block code %}
    <script src="{% static 'js/ext/dropzone.min.js'%}"></script>
{% endblock %}
