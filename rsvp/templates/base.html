{% load staticfiles %}
<!DOCTYPE html>
<html class="support-no-js">
  <head>
    <meta charset="utf-8">
    <title>{% block title %}Sherry & Aneesh{% endblock %}</title>
    <link href='{% static "css/ext/fonts.css" %}' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="shortcut icon" href="{% static 'images/favicon.png'%}?v=10">
    {% block bootstrap-css %}
      <link rel="stylesheet" href="{% static 'css/ext/bootstrap/css/bootstrap.min.css' %}">
      <link rel="stylesheet" href="{% static 'css/ext/bootstrap/css/bootstrap-theme.min.css' %}">
      <link rel="stylesheet" href="{% static 'css/bootstrap-customization.css' %}">
    {% endblock %}
    {% block style %}
    {% endblock %}
  </head>
  <body class="{% block body-class %}{% endblock %}">
    {% block bootstrap-header %}
      {% include "navbar.html" %}
    {% endblock %}
    <div id="main" class="container">
      {% block content %}
      {% endblock %}
    </div>
    <script src="{% static 'js/ext/modernizr/modernizr-custom.js'%}"></script>
    <script src="{% static 'js/ext/jquery-1.11.3/jquery-1.11.3.min.js'%}"></script>
    {% block bootstrap-js %}
      <script src="{% static 'css/ext/bootstrap/js/bootstrap.min.js'%}"></script>
    {% endblock %}
    {% block code %}
    {% endblock %}
    <script type="text/javascript">
      $(function () {
        // Shrink heart to 60px and hide text when menu is shown
        // Otherwise, expanded navbar will cut off logo ugily
        var $nav = $("nav #navbar"),
            $heart = $("#navbar-logo"),
            $letters = $heart.find(".container");
        $nav.on("show.bs.collapse", function () {
          $heart.css("height", 60);
          $letters.addClass("hidden");
        })
        $nav.on("hidden.bs.collapse", function () {
          $heart.css("height", 110);
          $letters.removeClass("hidden");
        })
        // Upgrade images, from http://stackoverflow.com/a/31370466/4607533
        $("img.hidden").on("load.upgrade", upgradeImage);
        function upgradeImage(el) {
          var $el = $(el.target);
          $el.siblings("img").attr("src", el.target.src);
        }
      });
    </script>
    <noscript>
      <div>
        JavaScript isn't enabled, you might experience weirdness.
      </div>
    </noscript>
  </body>
</html>
